!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.SRC=t.SRC||{})}(this,function(t){"use strict";var e={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function o(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function u(t){this.map={},t instanceof u?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function a(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function c(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function l(t){var e=new FileReader,n=c(e);return e.readAsArrayBuffer(t),n}function h(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(t){var n;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:e.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:e.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():e.arrayBuffer&&e.blob&&((n=t)&&DataView.prototype.isPrototypeOf(n))?(this._bodyArrayBuffer=h(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):e.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||i(t))?this._bodyArrayBuffer=h(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=a(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var t,e,n,i=a(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=c(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(t,e){t=s(t),e=o(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},u.prototype.delete=function(t){delete this.map[s(t)]},u.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},u.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},u.prototype.set=function(t,e){this.map[s(t)]=o(e)},u.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},u.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},u.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},u.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},e.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function p(t,e){var n,i,s=(e=e||{}).body;if(t instanceof p){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new u(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,s||null==t._bodyInit||(s=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new u(e.headers)),this.method=(n=e.method||this.method||"GET",i=n.toUpperCase(),f.indexOf(i)>-1?i:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function y(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),s=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(s))}}),e}function g(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new u(e.headers),this.url=e.url||"",this._initBody(t)}p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},d.call(p.prototype),d.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var m=[301,302,303,307,308];g.redirect=function(t,e){if(-1===m.indexOf(e))throw new RangeError("Invalid status code");return new g(null,{status:e,headers:{location:t}})};var v=self.DOMException;try{new v}catch(t){(v=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),v.prototype.constructor=v}function b(t,n){return new Promise(function(i,s){var o=new p(t,n);if(o.signal&&o.signal.aborted)return s(new v("Aborted","AbortError"));var r=new XMLHttpRequest;function a(){r.abort()}r.onload=function(){var t,e,n={status:r.status,statusText:r.statusText,headers:(t=r.getAllResponseHeaders()||"",e=new u,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var s=n.join(":").trim();e.append(i,s)}}),e)};n.url="responseURL"in r?r.responseURL:n.headers.get("X-Request-URL");var s="response"in r?r.response:r.responseText;i(new g(s,n))},r.onerror=function(){s(new TypeError("Network request failed"))},r.ontimeout=function(){s(new TypeError("Network request failed"))},r.onabort=function(){s(new v("Aborted","AbortError"))},r.open(o.method,o.url,!0),"include"===o.credentials?r.withCredentials=!0:"omit"===o.credentials&&(r.withCredentials=!1),"responseType"in r&&e.blob&&(r.responseType="blob"),o.headers.forEach(function(t,e){r.setRequestHeader(e,t)}),o.signal&&(o.signal.addEventListener("abort",a),r.onreadystatechange=function(){4===r.readyState&&o.signal.removeEventListener("abort",a)}),r.send(void 0===o._bodyInit?null:o._bodyInit)})}b.polyfill=!0,self.fetch||(self.fetch=b,self.Headers=u,self.Request=p,self.Response=g);var w={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},_=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function!");return t},S=function(t,e,n){if(_(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,s){return t.call(e,n,i,s)}}return function(){return t.apply(e,arguments)}},E={}.toString,B=function(t){return E.call(t).slice(8,-1)},O="".split,P=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==B(t)?O.call(t,""):Object(t)},M=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},T=function(t){return Object(M(t))},L=Math.ceil,x=Math.floor,j=function(t){return isNaN(t=+t)?0:(t>0?x:L)(t)},A=Math.min,C=function(t){return t>0?A(j(t),9007199254740991):0},k=function(t){return"object"==typeof t?null!==t:"function"==typeof t},F=Array.isArray||function(t){return"Array"==B(t)};function R(t,e){return t(e={exports:{}},e.exports),e.exports}var I,D,V,U,G,N,q,W,H,K,$,J="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),z=function(t){try{return!!t()}catch(t){return!0}},X=!z(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),Y=J.document,Q=k(Y)&&k(Y.createElement),Z=function(t){return Q?Y.createElement(t):{}},tt=!X&&!z(function(){return 7!=Object.defineProperty(Z("div"),"a",{get:function(){return 7}}).a}),et=function(t){if(!k(t))throw TypeError(String(t)+" is not an object!");return t},nt=function(t,e){if(!k(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!k(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!k(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!k(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},it=Object.defineProperty,st={f:X?it:function(t,e,n){if(et(t),e=nt(e,!0),et(n),tt)try{return it(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},ot=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},rt=X?function(t,e,n){return st.f(t,e,ot(1,n))}:function(t,e,n){return t[e]=n,t},ut=function(t,e){try{rt(J,t,e)}catch(n){J[t]=e}return e},at=R(function(t){var e=J["__core-js_shared__"]||ut("__core-js_shared__",{});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.0.0-beta.3",mode:"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})}),ct=0,lt=Math.random(),ht=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++ct+lt).toString(36))},dt=!z(function(){}),ft=at("wks"),pt=J.Symbol,yt=function(t){return ft[t]||(ft[t]=dt&&pt[t]||(dt?pt:ht)("Symbol."+t))},gt=yt("species"),mt=[].forEach,vt=(V=1==(I=0),U=2==I,G=3==I,N=4==I,q=6==I,W=5==I||q,H=D||function(t,e){var n;return F(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!F(n.prototype)?k(n)&&null===(n=n[gt])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},function(t,e,n){for(var i,s,o=T(t),r=P(o),u=S(e,n,3),a=C(r.length),c=0,l=V?H(t,a):U?H(t,0):void 0;a>c;c++)if((W||c in r)&&(s=u(i=r[c],c,o),I))if(V)l[c]=s;else if(s)switch(I){case 3:return!0;case 5:return i;case 6:return c;case 2:l.push(i)}else if(N)return!1;return q?-1:G||N?N:l}),bt=($=!0,!!(K=mt)&&z(function(){$?K.call(null,function(){},1):K.call(null)}))?mt:function(t){return vt(this,t,arguments[1])};for(var wt in w){var _t=J[wt],St=_t&&_t.prototype;if(St&&St.forEach!==bt)try{rt(St,"forEach",bt)}catch(t){St.forEach=bt}}var Et,Bt=function(t){return P(M(t))},Ot={}.hasOwnProperty,Pt=function(t,e){return Ot.call(t,e)},Mt=Math.max,Tt=Math.min,Lt={},xt=(Et=!1,function(t,e,n){var i,s=Bt(t),o=C(s.length),r=function(t,e){var n=j(t);return n<0?Mt(n+e,0):Tt(n,e)}(n,o);if(Et&&e!=e){for(;o>r;)if((i=s[r++])!=i)return!0}else for(;o>r;r++)if((Et||r in s)&&s[r]===e)return Et||r||0;return!Et&&-1}),jt=function(t,e){var n,i=Bt(t),s=0,o=[];for(n in i)!Pt(Lt,n)&&Pt(i,n)&&o.push(n);for(;e.length>s;)Pt(i,n=e[s++])&&(~xt(o,n)||o.push(n));return o},At=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ct=Object.keys||function(t){return jt(t,At)},kt=X?Object.defineProperties:function(t,e){et(t);for(var n,i=Ct(e),s=i.length,o=0;s>o;)st.f(t,n=i[o++],e[n]);return t},Ft=J.document,Rt=Ft&&Ft.documentElement,It=at("keys"),Dt=function(t){return It[t]||(It[t]=ht(t))},Vt=Dt("IE_PROTO"),Ut=function(){},Gt=function(){var t,e=Z("iframe"),n=At.length;for(e.style.display="none",Rt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Gt=t.F;n--;)delete Gt.prototype[At[n]];return Gt()},Nt=Object.create||function(t,e){var n;return null!==t?(Ut.prototype=et(t),n=new Ut,Ut.prototype=null,n[Vt]=t):n=Gt(),void 0===e?n:kt(n,e)};Lt[Vt]=!0;var qt=yt("unscopables"),Wt=Array.prototype;null==Wt[qt]&&rt(Wt,qt,Nt(null));var Ht,Kt,$t,Jt=function(t){Wt[qt][t]=!0},zt={},Xt=at("native-function-to-string",Function.toString),Yt=J.WeakMap;if("function"==typeof Yt&&/native code/.test(Xt.call(Yt))){var Qt=new Yt,Zt=Qt.get,te=Qt.has,ee=Qt.set;Ht=function(t,e){return ee.call(Qt,t,e),e},Kt=function(t){return Zt.call(Qt,t)||{}},$t=function(t){return te.call(Qt,t)}}else{var ne=Dt("state");Lt[ne]=!0,Ht=function(t,e){return rt(t,ne,e),e},Kt=function(t){return Pt(t,ne)?t[ne]:{}},$t=function(t){return Pt(t,ne)}}var ie,se,oe,re={set:Ht,get:Kt,has:$t,enforce:function(t){return $t(t)?Kt(t):Ht(t,{})},getterFor:function(t){return function(e){var n;if(!k(e)||(n=Kt(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required!");return n}}},ue=R(function(t){var e=re.get,n=re.enforce,i=String(Xt).split("toString");at("inspectSource",function(t){return Xt.call(t)}),(t.exports=function(t,e,s,o){"function"==typeof s&&("string"!=typeof e||Pt(s,"name")||rt(s,"name",e),n(s).source=i.join("string"==typeof e?e:"")),t===J?ut(e,s):o?t[e]?t[e]=s:rt(t,e,s):(delete t[e],rt(t,e,s))})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||Xt.call(this)})}),ae=At.concat("length","prototype"),ce={f:Object.getOwnPropertyNames||function(t){return jt(t,ae)}},le={f:Object.getOwnPropertySymbols},he=J.Reflect,de=he&&he.ownKeys||function(t){var e=ce.f(et(t)),n=le.f;return n?e.concat(n(t)):e},fe={}.propertyIsEnumerable,pe=Object.getOwnPropertyDescriptor,ye={f:pe&&!fe.call({1:2},1)?function(t){var e=pe(this,t);return!!e&&e.enumerable}:fe},ge=Object.getOwnPropertyDescriptor,me={f:X?ge:function(t,e){if(t=Bt(t),e=nt(e,!0),tt)try{return ge(t,e)}catch(t){}if(Pt(t,e))return ot(!ye.f.call(t,e),t[e])}},ve=function(t,e){for(var n=de(e),i=st.f,s=me.f,o=0;o<n.length;o++){var r=n[o];Pt(t,r)||i(t,r,s(e,r))}},be=function(t,e){var n,i,s,o,r=t.target;if(n=t.global?J:t.stat?J[r]||ut(r,{}):(J[r]||{}).prototype)for(i in e){if(s=n[i],o=e[i],!t.forced&&void 0!==s){if(typeof o==typeof s)continue;ve(o,s)}(t.sham||s&&s.sham)&&rt(o,"sham",!0),ue(n,i,o,t.unsafe)}},we=!z(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),_e=Dt("IE_PROTO"),Se=Object.prototype,Ee=we?Object.getPrototypeOf:function(t){return t=T(t),Pt(t,_e)?t[_e]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Se:null},Be=yt("iterator"),Oe=!1;[].keys&&("next"in(oe=[].keys())?(se=Ee(Ee(oe)))!==Object.prototype&&(ie=se):Oe=!0),null==ie&&(ie={}),Pt(ie,Be)||rt(ie,Be,function(){return this});var Pe={IteratorPrototype:ie,BUGGY_SAFARI_ITERATORS:Oe},Me=st.f,Te=yt("toStringTag"),Le=function(t,e,n){t&&!Pt(t=n?t:t.prototype,Te)&&Me(t,Te,{configurable:!0,value:e})},xe=Pe.IteratorPrototype,je=function(){return this},Ae=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e={},n=!0;try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),n=e instanceof Array}catch(t){n=!1}return function(e,i){return function(t,e){if(et(t),!k(e)&&null!==e)throw TypeError(String(e)+": can't set as a prototype!")}(e,i),n?t.call(e,i):e.__proto__=i,e}}():void 0),Ce=yt("iterator"),ke=Pe.IteratorPrototype,Fe=Pe.BUGGY_SAFARI_ITERATORS,Re=function(){return this},Ie=re.set,De=re.getterFor("Array Iterator"),Ve=function(t,e,n,i,s,o,r){!function(t,e,n){var i=e+" Iterator";t.prototype=Nt(xe,{next:ot(1,n)}),Le(t,i,!1),zt[i]=je}(n,e,i);var u,a,c,l=function(t){if(t===s&&y)return y;if(!Fe&&t in f)return f[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+" Iterator",d=!1,f=t.prototype,p=f[Ce]||f["@@iterator"]||s&&f[s],y=!Fe&&p||l(s),g="Array"==e&&f.entries||p;if(g&&(u=Ee(g.call(new t)),ke!==Object.prototype&&u.next&&(Ee(u)!==ke&&(Ae?Ae(u,ke):"function"!=typeof u[Ce]&&rt(u,Ce,Re)),Le(u,h,!0))),"values"==s&&p&&"values"!==p.name&&(d=!0,y=function(){return p.call(this)}),f[Ce]!==y&&rt(f,Ce,y),zt[e]=y,s)if(a={values:l("values"),keys:o?y:l("keys"),entries:l("entries")},r)for(c in a)!Fe&&!d&&c in f||ue(f,c,a[c]);else be({target:e,proto:!0,forced:Fe||d},a);return a}(Array,"Array",function(t,e){Ie(this,{type:"Array Iterator",target:Bt(t),index:0,kind:e})},function(){var t=De(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}},"values");zt.Arguments=zt.Array,Jt("keys"),Jt("values"),Jt("entries");var Ue=yt("iterator"),Ge=yt("toStringTag"),Ne=Ve.values;for(var qe in w){var We=J[qe],He=We&&We.prototype;if(He){if(He[Ue]!==Ne)try{rt(He,Ue,Ne)}catch(t){He[Ue]=Ne}if(He[Ge]||rt(He,Ge,qe),w[qe])for(var Ke in Ve)if(He[Ke]!==Ve[Ke])try{rt(He,Ke,Ve[Ke])}catch(t){He[Ke]=Ve[Ke]}}}var $e=J,Je=R(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),ze=R(function(t){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)}),Xe=(ze.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),Ye=function(t){if(!Xe(t))throw TypeError(t+" is not an object!");return t},Qe=function(t){try{return!!t()}catch(t){return!0}},Ze=!Qe(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),tn=Je.document,en=Xe(tn)&&Xe(tn.createElement),nn=!Ze&&!Qe(function(){return 7!=Object.defineProperty((t="div",en?tn.createElement(t):{}),"a",{get:function(){return 7}}).a;var t}),sn=Object.defineProperty,on={f:Ze?Object.defineProperty:function(t,e,n){if(Ye(t),e=function(t,e){if(!Xe(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!Xe(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!Xe(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!Xe(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}(e,!0),Ye(n),nn)try{return sn(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},rn=Ze?function(t,e,n){return on.f(t,e,function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}(1,n))}:function(t,e,n){return t[e]=n,t},un={}.hasOwnProperty,an=function(t,e){return un.call(t,e)},cn=0,ln=Math.random(),hn=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++cn+ln).toString(36))},dn=R(function(t){var e=hn("src"),n=Function.toString,i=(""+n).split("toString");ze.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,s,o){var r="function"==typeof s;r&&(an(s,"name")||rn(s,"name",n)),t[n]!==s&&(r&&(an(s,e)||rn(s,e,t[n]?""+t[n]:i.join(String(n)))),t===Je?t[n]=s:o?t[n]?t[n]=s:rn(t,n,s):(delete t[n],rn(t,n,s)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),fn=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,s){return t.call(e,n,i,s)}}return function(){return t.apply(e,arguments)}},pn=function(t,e,n){var i,s,o,r,u=t&pn.F,a=t&pn.G,c=t&pn.S,l=t&pn.P,h=t&pn.B,d=a?Je:c?Je[e]||(Je[e]={}):(Je[e]||{}).prototype,f=a?ze:ze[e]||(ze[e]={}),p=f.prototype||(f.prototype={});for(i in a&&(n=e),n)o=((s=!u&&d&&void 0!==d[i])?d:n)[i],r=h&&s?fn(o,Je):l&&"function"==typeof o?fn(Function.call,o):o,d&&dn(d,i,o,t&pn.U),f[i]!=o&&rn(f,i,r),l&&p[i]!=o&&(p[i]=o)};Je.core=ze,pn.F=1,pn.G=2,pn.S=4,pn.P=8,pn.B=16,pn.W=32,pn.U=64,pn.R=128;var yn,gn=pn,mn={}.toString,vn=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==function(t){return mn.call(t).slice(8,-1)}(t)?t.split(""):Object(t)},bn=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},wn=function(t){return vn(bn(t))},_n=Math.ceil,Sn=Math.floor,En=function(t){return isNaN(t=+t)?0:(t>0?Sn:_n)(t)},Bn=Math.min,On=Math.max,Pn=Math.min,Mn=Je["__core-js_shared__"]||(Je["__core-js_shared__"]={}),Tn=Mn[yn="keys"]||(Mn[yn]={}),Ln=function(t){return function(e,n,i){var s,o,r=wn(e),u=(o=r.length)>0?Bn(En(o),9007199254740991):0,a=function(t,e){return(t=En(t))<0?On(t+e,0):Pn(t,e)}(i,u);if(t&&n!=n){for(;u>a;)if((s=r[a++])!=s)return!0}else for(;u>a;a++)if((t||a in r)&&r[a]===n)return t||a||0;return!t&&-1}}(!1),xn=function(t){return Tn[t]||(Tn[t]=hn(t))}("IE_PROTO"),jn="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),An=Object.keys||function(t){return function(t,e){var n,i=wn(t),s=0,o=[];for(n in i)n!=xn&&an(i,n)&&o.push(n);for(;e.length>s;)an(i,n=e[s++])&&(~Ln(o,n)||o.push(n));return o}(t,jn)},Cn={f:Object.getOwnPropertySymbols},kn={f:{}.propertyIsEnumerable},Fn=Object.assign,Rn=!Fn||Qe(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=Fn({},t)[n]||Object.keys(Fn({},e)).join("")!=i})?function(t,e){for(var n=Object(bn(t)),i=arguments.length,s=1,o=Cn.f,r=kn.f;i>s;)for(var u,a=vn(arguments[s++]),c=o?An(a).concat(o(a)):An(a),l=c.length,h=0;l>h;)r.call(a,u=c[h++])&&(n[u]=a[u]);return n}:Fn;gn(gn.S+gn.F,"Object",{assign:Rn});var In,Dn,Vn,Un=yt("iterator"),Gn=Array.prototype,Nn=yt("toStringTag"),qn="Arguments"==B(function(){return arguments}()),Wn=yt("iterator"),Hn=function(t){if(null!=t)return t[Wn]||t["@@iterator"]||zt[function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Nn))?n:qn?B(e):"Object"==(i=B(e))&&"function"==typeof e.callee?"Arguments":i}(t)]},Kn=function(t,e,n,i){try{return i?e(et(n)[0],n[1]):e(n)}catch(e){var s=t.return;throw void 0!==s&&et(s.call(t)),e}},$n=R(function(t){var e={};(t.exports=function(t,n,i,s,o){var r,u,a,c,l,h,d=S(n,i,s?2:1);if(o)r=t;else{if("function"!=typeof(u=Hn(t)))throw TypeError("Target is not iterable!");if(void 0!==(h=u)&&(zt.Array===h||Gn[Un]===h)){for(a=0,c=C(t.length);c>a;a++)if((s?d(et(l=t[a])[0],l[1]):d(t[a]))===e)return;return}r=u.call(t)}for(;!(l=r.next()).done;)if(Kn(r,d,l.value,s)===e)return}).BREAK=e}),Jn=yt("iterator"),zn=yt("species"),Xn=J.setImmediate,Yn=J.clearImmediate,Qn=J.process,Zn=J.MessageChannel,ti=J.Dispatch,ei=0,ni={},ii=function(){var t=+this;if(ni.hasOwnProperty(t)){var e=ni[t];delete ni[t],e()}},si=function(t){ii.call(t.data)};Xn&&Yn||(Xn=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return ni[++ei]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},In(ei),ei},Yn=function(t){delete ni[t]},"process"==B(Qn)?In=function(t){Qn.nextTick(S(ii,t,1))}:ti&&ti.now?In=function(t){ti.now(S(ii,t,1))}:Zn?(Vn=(Dn=new Zn).port2,Dn.port1.onmessage=si,In=S(Vn.postMessage,Vn,1)):J.addEventListener&&"function"==typeof postMessage&&!J.importScripts?(In=function(t){J.postMessage(t+"","*")},J.addEventListener("message",si,!1)):In="onreadystatechange"in Z("script")?function(t){Rt.appendChild(Z("script")).onreadystatechange=function(){Rt.removeChild(this),ii.call(t)}}:function(t){setTimeout(S(ii,t,1),0)});var oi,ri,ui,ai,ci={set:Xn,clear:Yn},li=ci.set,hi=J.MutationObserver||J.WebKitMutationObserver,di=J.process,fi=J.Promise,pi="process"==B(di),yi=function(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=_(e),this.reject=_(n)},gi={f:function(t){return new yi(t)}},mi=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},vi=J.navigator,bi=vi&&vi.userAgent||"",wi=yt("species"),_i="Promise",Si=ci.set,Ei=function(){var t,e,n,i=function(){var i,s;for(pi&&(i=di.domain)&&i.exit();t;){s=t.fn,t=t.next;try{s()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(pi)n=function(){di.nextTick(i)};else if(!hi||J.navigator&&J.navigator.standalone)if(fi&&fi.resolve){var s=fi.resolve(void 0);n=function(){s.then(i)}}else n=function(){li.call(J,i)};else{var o=!0,r=document.createTextNode("");new hi(i).observe(r,{characterData:!0}),n=function(){r.data=o=!o}}return function(i){var s={fn:i,next:void 0};e&&(e.next=s),t||(t=s,n()),e=s}}(),Bi=yt("species"),Oi=re.get,Pi=re.set,Mi=re.getterFor(_i),Ti=J.Promise,Li=J.TypeError,xi=J.document,ji=J.process,Ai=ji&&ji.versions,Ci=Ai&&Ai.v8||"",ki=gi.f,Fi=ki,Ri="process"==B(ji),Ii=!!(xi&&xi.createEvent&&J.dispatchEvent),Di=!!function(){try{var t=Ti.resolve(1),e=function(){},n=(t.constructor={})[Bi]=function(t){t(e,e)};return(Ri||"function"==typeof PromiseRejectionEvent)&&t.then(e)instanceof n&&0!==Ci.indexOf("6.6")&&-1===bi.indexOf("Chrome/66")}catch(t){}}(),Vi=function(t){var e;return!(!k(t)||"function"!=typeof(e=t.then))&&e},Ui=function(t,e,n){if(!e.notified){e.notified=!0;var i=e.reactions;Ei(function(){for(var s=e.value,o=1==e.state,r=0,u=function(n){var i,r,u,a=o?n.ok:n.fail,c=n.resolve,l=n.reject,h=n.domain;try{a?(o||(2===e.rejection&&Wi(t,e),e.rejection=1),!0===a?i=s:(h&&h.enter(),i=a(s),h&&(h.exit(),u=!0)),i===n.promise?l(Li("Promise-chain cycle")):(r=Vi(i))?r.call(i,c,l):c(i)):l(s)}catch(t){h&&!u&&h.exit(),l(t)}};i.length>r;)u(i[r++]);e.reactions=[],e.notified=!1,n&&!e.rejection&&Ni(t,e)})}},Gi=function(t,e,n){var i,s;Ii?((i=xi.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),J.dispatchEvent(i)):i={promise:e,reason:n},(s=J["on"+t])?s(i):"unhandledrejection"===t&&function(t,e){var n=J.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},Ni=function(t,e){Si.call(J,function(){var n,i=e.value,s=qi(e);if(s&&(n=mi(function(){Ri?ji.emit("unhandledRejection",i,t):Gi("unhandledrejection",t,i)}),e.rejection=Ri||qi(e)?2:1),s&&n.e)throw n.v})},qi=function(t){return 1!==t.rejection&&!t.parent},Wi=function(t,e){Si.call(J,function(){Ri?ji.emit("rejectionHandled",t):Gi("rejectionhandled",t,e.value)})},Hi=function(t,e,n,i){return function(s){t(e,n,s,i)}},Ki=function(t,e,n,i){e.done||(e.done=!0,i&&(e=i),e.value=n,e.state=2,Ui(t,e,!0))},$i=function(t,e,n,i){if(!e.done){e.done=!0,i&&(e=i);try{if(t===n)throw Li("Promise can't be resolved itself!");var s=Vi(n);s?Ei(function(){var i={done:!1};try{s.call(n,Hi($i,t,i,e),Hi(Ki,t,i,e))}catch(n){Ki(t,i,n,e)}}):(e.value=n,e.state=1,Ui(t,e,!1))}catch(n){Ki(t,{done:!1},n,e)}}};Di||(Ti=function(t){!function(t,e,n){if(!(t instanceof e))throw TypeError((n?n+": i":"I")+"ncorrect invocation!")}(this,Ti,_i),_(t),oi.call(this);var e=Oi(this);try{t(Hi($i,this,e),Hi(Ki,this,e))}catch(t){Ki(this,e,t)}},(oi=function(t){Pi(this,{type:_i,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(t,e,n){for(var i in e)ue(t,i,e[i],n);return t}(Ti.prototype,{then:function(t,e){var n,i,s,o=Mi(this),r=ki((n=Ti,void 0===(s=et(this).constructor)||null==(i=et(s)[zn])?n:_(i)));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=Ri?ji.domain:void 0,o.parent=!0,o.reactions.push(r),0!=o.state&&Ui(this,o,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),ri=function(){var t=new oi,e=Oi(t);this.promise=t,this.resolve=Hi($i,t,e),this.reject=Hi(Ki,t,e)},gi.f=ki=function(t){return t===Ti||t===ui?new ri(t):Fi(t)}),be({global:!0,wrap:!0,forced:!Di},{Promise:Ti}),Le(Ti,_i,!1),ai=J[_i],X&&ai&&!ai[wi]&&st.f(ai,wi,{configurable:!0,get:function(){return this}}),ui=$e.Promise,be({target:_i,stat:!0,forced:!Di},{reject:function(t){var e=ki(this);return e.reject.call(void 0,t),e.promise}}),be({target:_i,stat:!0,forced:!Di},{resolve:function(t){return function(t,e){if(et(t),k(e)&&e.constructor===t)return e;var n=gi.f(t);return(0,n.resolve)(e),n.promise}(this,t)}}),be({target:_i,stat:!0,forced:!(Di&&function(t,e){if(!e)return!1;var n=!1;try{var i={};i[Jn]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}(function(t){Ti.all(t).catch(function(){})}))},{all:function(t){var e=this,n=ki(e),i=n.resolve,s=n.reject,o=mi(function(){var n=[],o=0,r=1;$n(t,function(t){var u=o++,a=!1;n.push(void 0),r++,e.resolve(t).then(function(t){a||(a=!0,n[u]=t,--r||i(n))},s)}),--r||i(n)});return o.e&&s(o.v),n.promise},race:function(t){var e=this,n=ki(e),i=n.reject,s=mi(function(){$n(t,function(t){e.resolve(t).then(n.resolve,i)})});return s.e&&i(s.v),n.promise}});class Ji{constructor(){this._listeners={}}on(t,e,n=0){this._listeners[t]||(this._listeners[t]=[]),e._priority=parseInt(n)||0,-1===this._listeners[t].indexOf(e)&&(this._listeners[t].push(e),this._listeners[t].length>1&&this._listeners[t].sort(this.listenerSorter))}listenerSorter(t,e){return t._priority-e._priority}off(t,e){if(void 0===this._listeners[t])return;if(void 0===e)return void delete this._listeners[t];const n=this._listeners[t].indexOf(e);-1<n&&this._listeners[t].splice(n,1)}trigger(t){if("string"==typeof t&&(t={type:t}),void 0!==this._listeners[t.type])for(let e=this._listeners[t.type].length-1;e>=0;e--)this._listeners[t.type][e](t)}destroy(){this._listeners={}}}class zi extends Ji{constructor(t=100*Math.random()|0){super(),this.id=`BELLHOP:${t}`,this.connected=!1,this.isChild=!0,this.connecting=!1,this.origin="*",this._sendLater=[],this.iframe=null}receive(t){this.target===t.source&&("connected"===t.data?this.onConnectionReceived(t.data):this.connected&&"object"==typeof t.data&&t.data.type&&this.trigger(t.data))}onConnectionReceived(t){this.connecting=!1,this.connected=!0,this.trigger("connected"),this.isChild||this.target.postMessage(t,this.origin);for(let t=0,e=this._sendLater.length;t<e;t++){const{type:e,data:n}=this._sendLater[t];this.send(e,n)}this._sendLater.length=0}connect(t,e="*"){this.connecting||(this.disconnect(),this.connecting=!0,t instanceof HTMLIFrameElement&&(this.iframe=t),this.isChild=void 0===t,this.supported=!0,this.isChild&&(this.supported=window!=t),this.origin=e,window.addEventListener("message",this.receive.bind(this)),this.isChild&&(window===this.target?this.trigger("failed"):this.target.postMessage("connected",this.origin)))}disconnect(){this.connected=!1,this.connecting=!1,this.origin=null,this.iframe=null,this.isChild=!0,this._sendLater.length=0,window.removeEventListener("message",this.receive)}send(t,e={}){if("string"!=typeof t)throw"The event type must be a string";const n={type:t,data:e};this.connecting?this._sendLater.push(n):this.target.postMessage(n,this.origin)}fetch(t,e,n={},i=!1){if(!this.connecting&&!this.connected)throw"No connection, please call connect() first";const s=t=>{i&&this.off(t.type,s),e(t)};this.on(t,s),this.send(t,n)}respond(t,e={},n=!1){const i=s=>{n&&this.off(s.type,i),this.send(t,e)};this.on(t,i)}destroy(){super.destroy(),this.disconnect(),this._sendLater.length=0}get target(){return this.isChild?window.parent:this.iframe.contentWindow}}class Xi{static get webgl(){const t=document.createElement("canvas");return!(!t||!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}static get canvas(){const t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))}static get webAudio(){return"webkitAudioContext"in window||"AudioContext"in window}static get webSockets(){return"WebSocket"in window||"MozWebSocket"in window}static get geolocation(){return"geolocation"in navigator}static get webWorkers(){return"function"==typeof Worker}static get touch(){return!!("ontouchstart"in window||navigator.msPointerEnabled&&navigator.msMaxTouchPoints>0||navigator.pointerEnabled&&navigator.maxTouchPoints>0)}static basic(){return Xi.canvas?Xi.webAudio?null:"Browser does not support WebAudio":"Browser does not support canvas"}static test(t){const e=this.basic();if(e)return e;const n=t.features,i=t.ui,s=t.sizes;for(const t in n)if(void 0!==n[t]&&!Xi[t])return"Browser does not support "+t;if(!i.touch&&Xi.touch)return"Game does not support touch input";if(!i.mouse&&!Xi.touch)return"Game does not support mouse input";const o=Math.max(window.screen.width,window.screen.height);return!s.xsmall&&o<480?"Game doesn't support extra small screens":!s.small&&o<768?"Game doesn't support small screens":!s.medium&&o<992?"Game doesn't support medium screens":!s.large&&o<1200?"Game doesn't support large screens":!s.xlarge&&o>=1200?"Game doesn't support extra large screens":null}static get info(){return`Browser Feature Detection\n\t\t\t\tCanvas support ${Xi.canvas?"✓":"×"}\n\t\t\t\tWebGL support ${Xi.webgl?"✓":"×"}\n\t\t\t\tWebAudio support ${Xi.webAudio?"✓":"×"}`}}var Yi="2.0.0";let Qi=[],Zi=new zi;class ts{constructor(t,e={}){if(this.main=document.querySelector(t),null===this.main)throw new Error("No iframe was found with the provided selector");this.client||(this.client=new zi),this.dom=this.main,this.loaded=!1,this.loading=!1,this.options=e,this.release=null,this.plugins=Qi.map(t=>new t(this))}destroyClient(){this.client&&(this.client.destroy(),this.client=null)}onLoading(){this.client.trigger("opening")}onProgress(){this.client.trigger("progress")}onLoadDone(){this.loading=!1,this.loaded=!0,this.main.classList.remove("loading"),this.plugins.forEach(t=>t.opened(this)),this.client.trigger("opened")}onEndGame(){this.reset()}onLocalError(t){this.client.trigger(t.type)}reset(){const t=this.loaded||this.loading;t&&this.plugins.slice().reverse().forEach(t=>t.closed(this)),t&&this.client.trigger("closed"),this.destroyClient(),this.loaded=!1,this.loading=!1,this.main.setAttribute("src",""),this.main.classList.remove("loading")}initClient(){this.client=new zi,this.client.connect(this.dom),this.client.on("loading",this.onLoading.bind(this)),this.client.on("progress",this.onProgress.bind(this)),this.client.on("loaded",this.onLoadDone.bind(this)),this.client.on("endGame",this.onEndGame.bind(this)),this.client.on("localError",this.onLocalError.bind(this))}_onCloseFailed(){this.reset()}_internalOpen(t,{singlePlay:e=!1,playOptions:n=null}={}){const i={singlePlay:e,playOptions:n};this.reset(),this.loading=!0,this.initClient();const s=Xi.basic();s&&(console.error("ERROR:",s),this.client.trigger("unsupported")),this.plugins.forEach(t=>t.open(this));let o=t;if(null!==i.playOptions){const e="playOptions="+encodeURIComponent(JSON.stringify(i.playOptions));o=-1===t.indexOf("?")?`${t}?${e}`:`${t}&${e}`}this.main.classList.add("loading"),this.main.setAttribute("src",o),this.client.respond("singlePlay",{singlePlay:e}),this.client.respond("playOptions",{playOptions:n}),this.client.trigger("open")}openPath(t,e={},n={}){"object"!=typeof e&&(console.warn("SpringRoll Container.openPath was passed a invalid options parameter. Using default parameters instead"),e={}),this._internalOpen(t,Object.assign({singlePlay:!1,playOptions:n},e))}openRemote(t,{query:e="",singlePlay:n=!1}={},i=null){this.release=null,fetch(t).then(t=>{200===t.status&&t.json().then(t=>{if(Xi.test(t))return this.client.trigger("unsupported");this.release=t,this._internalOpen(t.url+e,{singlePlay:n,playOptions:i})})})}destroy(){this.reset(),this.plugins.slice().reverse().forEach(t=>t.teardown(this)),this.main=null,this.options=null,this.dom=null,this.release=null}close(){this.loading||this.loaded?(this.plugins.forEach(t=>t.close(this)),this.client.trigger("close"),this.client.send("close")):this.reset()}static get version(){return Yi}static uses(t){("function"==typeof t||(()=>!!t.prototype&&t.prototype.constructor&&/^class/.test(t.prototype.constructor))())&&(Qi.push(t),Qi.sort((t,e)=>e.priority-t.priority))}static get plugins(){return Qi}static clearPlugins(){return Qi=[]}static _setClient(t){(t instanceof zi||null===t)&&(Zi=t)}static _getClient(){return Zi}set client(t){ts._setClient(t)}static set client(t){this._setClient(t)}static get client(){return this._getClient()}get client(){return ts._getClient()}}class es{constructor(t=function(){},e=function(){}){this._onFocus=t,this._onBlur=e,this.onFocus=function(){this.enabled&&this._onFocus()}.bind(this),this.onBlur=function(){this.enabled&&this._onBlur()}.bind(this),this._enabled=!1,this.enabled=!0}destroy(){this.enabled=!1,this.onToggle=null,this.onFocus=null,this.onBlur=null}onToggle(t){this.enabled&&(document.hidden?this.onBlur(t):this.onFocus(t))}get enabled(){return this._enabled}set enabled(t){this._enabled=t,document.removeEventListener("visibilitychange",this.onToggle.bind(this),!1),window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),window.removeEventListener("pagehide",this.onBlur),window.removeEventListener("pageshow",this.onFocus),window.removeEventListener("visibilitychange",this.onToggle.bind(this)),this._enabled&&(document.addEventListener("visibilitychange",this.onToggle.bind(this),!1),window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),window.addEventListener("pagehide",this.onBlur),window.addEventListener("pageshow",this.onFocus),window.addEventListener("visibilitychange",this.onToggle.bind(this),!1))}}let ns=(()=>{if("undefined"==typeof Storage)return!1;try{return localStorage.setItem("LS_TEST","test"),localStorage.removeItem("LS_TEST"),!0}catch(t){return!1}})(),is=!1;class ss{static get WEB_STORAGE_SUPPORT(){return ns}static disableWebStorage(){ns=!1}static get ERASE_COOKIE(){return is}static set ERASE_COOKIE(t){is=t}static remove(t){this.WEB_STORAGE_SUPPORT?(localStorage.removeItem(t),sessionStorage.removeItem(t)):ss.write(t,"",this.ERASE_COOKIE)}static write(t,e,n=!1){if(this.WEB_STORAGE_SUPPORT)return void(n?sessionStorage.setItem(t,JSON.stringify(e)):localStorage.setItem(t,JSON.stringify(e)));const i=n?n!==this.ERASE_COOKIE?"":"; expires=Thu, 01 Jan 1970 00:00:00 GMT":"; expires="+new Date(2147483646e3).toUTCString();document.cookie=t+"="+escape(JSON.stringify(e))+i+"; path=/"}static read(t){if(!this.WEB_STORAGE_SUPPORT){const e=`${t}=`,n=document.cookie.split(";");for(let t=0,i=n.length;t<i;t++){let i=n[t];for(;" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e))return JSON.parse(unescape(i.substring(e.length,i.length)))}return null}const e=localStorage.getItem(t)||sessionStorage.getItem(t);return JSON.parse(e)||null}}class os{constructor(t=0){this.priority=t}open(){}opened(){}close(){}closed(){}teardown(){}sendProperty(t,e){ss.write(t,e),this.client.send(t,e)}get client(){return ts.client}}class rs extends os{constructor(t=100){super(t),this.sendMutes=!1}setup(){this.sendMutes=!0}teardown(){this.reset()}_disableButton(t){t instanceof HTMLElement&&(t.classList.remove("enabled"),t.classList.add("disabled"))}reset(){this.sendMutes=!1}_setMuteProp(t,e,n){Array.isArray(e)?e.forEach(t=>this.removeListeners(t)):this.removeListeners(e),this.sendProperty(t,n)}removeListeners(t){t instanceof HTMLElement&&(t.classList.remove("unmuted"),t.classList.remove("muted"),t.classList.add(this.sendMutes?"muted":"unmuted"))}}const us="captionsStyles",as="captionsMuted",cs={size:"md",background:"black-semi",color:"white",edge:"none",font:"arial",align:"top"};class ls{static remove(t,e){ss.remove(t),e()}static write(t,e,n){ss.write(t,e),n()}static read(t,e){e(ss.read(t))}}t.Container=ts,t.Features=Xi,t.PageVisibility=es,t.BasePlugin=os,t.ButtonPlugin=rs,t.CaptionsPlugin=class extends rs{constructor({options:{captionsButton:t}}){super(70),this.captionsStyles=Object.assign({},cs,ss.read(us)||{}),this.captionsButton=document.querySelector(t),this.client.on("features",function(t){this.captionsButton.style.display=t.captions?"inline-block":"none"}),this.captionsButton.addEventListener("click",this.captionsButtonClick.bind(this)),null===ss.read(as)&&(this.captionsMuted=!0)}captionsButtonClick(){this.captionsMuted=!this.captionsMuted}clearCaptionsStyles(){this.captionsStyles=Object.assign({},cs),this.setCaptionsStyles()}getCaptionsStyles(t){return t?this.captionsStyles[t]:this.captionsStyles}setCaptionsStyles(t=cs,e=""){"object"==typeof t?Object.assign(this.captionsStyles,t):"string"==typeof t&&(this.captionsStyles[t]=e),ss.write(us,this.captionsStyles),this.client&&this.client.send(us,this.captionsStyles)}opened(){null!==this.captionsButton&&(this.captionsButton.classList.remove("disabled"),this.captionsMuted=!!ss.read(as),this.setCaptionsStyles(ss.read(us)))}teardown(){null!==this.captionsButton&&this.captionsButton.removeEventListener("click",this.captionsButtonClick.bind(this))}close(){null!==this.captionsButton&&super._disableButton(this.captionsButton)}},t.FeaturesPlugin=class extends os{constructor(){super(90)}onFeatures(){}open(){this.client.on("features",this.onFeatures.bind(this))}close(){this.client.off("features",this.onFeatures.bind(this))}},t.FocusPlugin=class extends os{constructor({options:t,dom:e}){super(90),this.options=Object.assign({pauseFocusSelector:".pause-on-focus"},t),this.dom=e,this._appBlurred=!1,this._keepFocus=!1,this._containerBlurred=!1,this._focusTimer=null,this._isManualPause=!1,this.paused=!1,this.manageFocus=this.manageFocus.bind(this),this.onKeepFocus=this.onKeepFocus.bind(this),this.pageVisibility=new es(this.onContainerFocus.bind(this),this.onContainerBlur.bind(this)),document.addEventListener("focus",this.onDocClick.bind(this)),document.addEventListener("click",this.onDocClick.bind(this)),this.pauseFocus=document.querySelector(this.options.pauseFocusSelector),null!==this.pauseFocus&&this.pauseFocus.addEventListener("focus",this.onPauseFocus.bind(this))}onPauseFocus(){this._isManualPause=this.paused=!0,this.pauseFocus.addEventListener("blur",function(){this._isManualPause=this.paused=!1,this.focus()}.bind(this),{once:!0})}focus(){this.dom.contentWindow&&this.dom.contentWindow.focus()}blur(){this.dom.contentWindow&&this.dom.contentWindow.blur()}manageFocus(){this._keepFocus&&this.blur(),this._focusTimer&&clearTimeout(this._focusTimer),this._focusTimer=setTimeout(function(){this._focusTimer=null,this._isManualPause||(this.paused=this._containerBlurred&&this._appBlurred,this._keepFocus&&!this._containerBlurred&&this._appBlurred&&this.focus())}.bind(this),100)}onDocClick(){this.focus()}onKeepFocus(t){this._keepFocus=!!t.data,this.manageFocus()}onFocus(t){this._appBlurred=!t.data,this.manageFocus()}onContainerFocus(){this._containerBlurred=!1,this.manageFocus()}onContainerBlur(){this._containerBlurred=this._appBlurred=!0,this.manageFocus()}open(){this.client.on("focus",this.onFocus.bind(this)),this.client.on("keepFocus",this.onKeepFocus.bind(this))}opened(){this.focus()}close(){this._focusTimer&&clearTimeout(this._focusTimer)}teardown(){null!==this.pauseFocus&&this.pauseFocus.removeEventListener("focus",this.onPauseFocus.bind(this)),document.removeEventListener("focus",this.onDocClick.bind(this)),document.removeEventListener("click",this.onDocClick.bind(this)),this.pageVisibility&&this.pageVisibility.destroy()}},t.HelpPlugin=class extends rs{constructor({options:{helpButton:t}}){super(50),this.helpButton=document.querySelector(t),this.paused=!1,this._helpEnabled=!1,this.helpButton instanceof HTMLElement&&(this.helpButton.addEventListener("click",this.helpButtonClick.bind(this)),this.client.on("pause",function(t){t&&!this.helpButton.classList.contains("disabled")?(this.helpButton.setAttribute("data-paused",!0),this.helpEnabled=!1):this.helpButton.getAttribute("data-paused")&&(this.helpButton.setAttribute("data-paused",""),this.helpEnabled=!0)}.bind(this)),this.client.on("features",function(t){this.helpButton.styles.display=t.hints?"inline-block":"none",this.helpButton.style.display="none"}.bind(this)))}helpButtonClick(){this.paused||this.helpButton.classList.contains("disabled")||this.client.send("playHelp")}teardown(){this.helpButton.removeEventListener("click",this.helpButtonClick.bind(this))}close(){this.client.off("helpEnabled"),this.helpEnabled=!1}open(){this.client.on("helpEnabled",function(t){this.helpEnabled=!!t.data}.bind(this))}get helpEnabled(){return this._helpEnabled}set helpEnabled(t){this._helpEnabled=t,this.helpButton.classList.remove("disabled"),this.helpButton.classList.remove("enabled"),this.helpButton.classList.add(t?"enabled":"disabled"),this.client.trigger("helpEnabled")}},t.PausePlugin=class extends rs{constructor({options:{pauseButton:t}}){if(super(80),this.pauseButton=document.querySelectorAll(t),1>this.pauseButton.length)return;const e=this.onPauseToggle.bind(this);this.pauseButton.forEach(t=>t.addEventListener("click",e)),this._isManualPause=!1,this._disablePause=!1,this._paused=!1,this.client.on("features",function(t){t.disablePause&&(this._disablePause=!0)}.bind(this))}onPauseToggle(){this.pause=!this._paused,this._isManualPause=this.paused}opened(){this.pauseButton.forEach(t=>t.classList.remove("disabled")),this.pause=this._paused}close(){this.pauseButton.forEach(t=>this._disableButton.bind(t)),this.paused=!1}teardown(){const t=this.onPauseToggle.bind(this);this.pauseButton.forEach(e=>e.removeEventListener("click",t))}set pause(t){t=!!t,this._disablePause||(this._paused=t,this.client.send("pause",t),this.client.trigger(t?"paused":"resumed"),this.pauseButton.forEach(e=>{e.classList.remove("unpaused"),e.classList.remove("paused"),e.classList.add(t?"paused":"unpaused")}))}get pause(){return this._paused}},t.SoundPlugin=class extends rs{constructor({options:{soundButton:t,musicButton:e,sfxButton:n,voButton:i,soundSlider:s,musicSlider:o,sfxSlider:r,voSlider:u}}){super(60);const a=ss.read("soundMuted");this._soundMuted=a||!1,this._musicMuted=!1,this._voMuted=!1,this._sfxMuted=!1,this.soundVolume=0,this.musicVolume=0,this.sfxVolume=0,this.voVolume=0,this.soundSlider=this.sliderSetup(document.querySelector(s),s),this.musicSlider=this.sliderSetup(document.querySelector(o),o),this.sfxSlider=this.sliderSetup(document.querySelector(r),r),this.voSlider=this.sliderSetup(document.querySelector(u),u),this.soundButton=document.querySelector(t),this.musicButton=document.querySelector(e),this.sfxButton=document.querySelector(n),this.voButton=document.querySelector(i),this.soundButton&&this.soundButton.addEventListener("click",this.onSoundToggle.bind(this)),this.musicButton&&this.musicButton.addEventListener("click",this.onMusicToggle.bind(this)),this.sfxButton&&this.sfxButton.addEventListener("click",this.onSFXToggle.bind(this)),this.voButton&&this.voButton.addEventListener("click",this.onVOToggle.bind(this)),this.soundSlider&&this.soundSlider.addEventListener("change",this.onSoundVolumeChange.bind(this)),this.musicSlider&&this.musicSlider.addEventListener("change",this.onMusicVolumeChange.bind(this)),this.sfxSlider&&this.sfxSlider.addEventListener("change",this.onSfxVolumeChange.bind(this)),this.voSlider&&this.voSlider.addEventListener("change",this.onVoVolumeChange.bind(this)),this.client.on("features",function(t){this.voButton.style.display=t.vo&&this.voButton?"inline-block":"none",this.musicButton.style.display=t.music&&this.musicButton?"inline-block":"none",this.soundButton.style.display=t.sound&&this.soundButton?"inline-block":"none",this.sfxButton.style.display=t.sfxButton&&this.sfxButton?"inline-block":"none"}.bind(this))}onSoundVolumeChange(){this.soundVolume=this.volumeRange(Number(this.soundSlider.value)),this.soundMuted=!this.soundVolume,this._checkSoundMute(),this.sendProperty("soundVolume",this.soundVolume)}onMusicVolumeChange(){this.musicVolume=this.volumeRange(Number(this.musicSlider.value)),this.musicMuted=!this.musicVolume,this._checkSoundMute(),this.sendProperty("musicVolume",this.musicVolume)}onVoVolumeChange(){this.voVolume=this.volumeRange(Number(this.voSlider.value)),this.voMuted=!this.voVolume,this._checkSoundMute(),this.sendProperty("voVolume",this.voVolume)}onSfxVolumeChange(){this.sfxVolume=this.volumeRange(Number(this.sfxSlider.value)),this.sfxMuted=!this.sfxVolume,this._checkSoundMute(),this.sendProperty("sfxVolume",this.sfxVolume)}onSoundToggle(){const t=!this.soundMuted;this.soundMuted=t,this.musicMuted=t,this.voMuted=t,this.sfxMuted=t}onMusicToggle(){this.musicMuted=!this.musicMuted,this._checkSoundMute()}onVOToggle(){this.voMuted=!this.voMuted,this._checkSoundMute()}onSFXToggle(){this.sfxMuted=!this.sfxMuted,this._checkSoundMute()}_checkSoundMute(){this.soundMuted=this.sfxMuted&&this.voMuted&&this.musicMuted}setMuteProp(t,e,n){this[t]=e,this._setMuteProp(t,n,e)}opened(){null!==this.soundButton&&this.soundButton.classList.remove("disabled"),null!==this.sfxButton&&this.sfxButton.classList.remove("disabled"),null!==this.voButton&&this.voButton.classList.remove("disabled"),null!==this.musicButton&&this.musicButton.classList.remove("disabled"),this.soundMuted=!!ss.read("soundMuted"),this.musicMuted=!!ss.read("musicMuted"),this.sfxMuted=!!ss.read("sfxMuted"),this.voMuted=!!ss.read("voMuted")}close(){this._disableButton(this.soundButton),this._disableButton(this.voButton),this._disableButton(this.sfxButton),this._disableButton(this.musicButton)}teardown(){null!==this.soundButton&&this.soundButton.removeEventListener("click",this.onSoundToggle.bind(this)),null!==this.musicButton&&this.musicButton.removeEventListener("click",this.onMusicToggle.bind(this)),null!==this.sfxButton&&this.sfxButton.removeEventListener("click",this.onSFXToggle.bind(this)),null!==this.voButton&&this.voButton.removeEventListener("click",this.onVOToggle.bind(this))}sliderSetup(t,e){return t&&"range"===t.type?(t.min="0",t.max="1",t.step="0.1",t):(console.warn(`SpringRoll Container: Sound plugin was passed a invalid input of ${e}. Input must be of type range`),null)}volumeRange(t,e=0,n=1){return t<e?e:t>n?n:t}set soundMuted(t){this.setMuteProp("_soundMuted",t,this.soundButton)}get soundMuted(){return this._soundMuted}set voMuted(t){this.setMuteProp("_voMuted",t,this.voButton)}get voMuted(){return this._voMuted}set musicMuted(t){this.setMuteProp("_musicMuted",t,this.musicButton)}get musicMuted(){return this._musicMuted}set sfxMuted(t){this.setMuteProp("_sfxMuted",t,this.sfxButton)}get sfxMuted(){return this._sfxMuted}},t.UserDataPlugin=class extends os{constructor(){super(40)}open(){this.client.on("userDataRemove",this.onUserDataRemove.bind(this)),this.client.on("userDataRead",this.onUserDataRead.bind(this)),this.client.on("userDataWrite",this.onUserDataWrite.bind(this))}onUserDataRemove({data:t,type:e}){ls.remove(t,()=>{this.client.send(e)})}onUserDataRead({data:t,type:e}){ls.read(t,t=>this.client.send(e,t))}onUserDataWrite({data:{name:t,value:e,type:n}}){ls.write(t,e,()=>this.client.send(n))}},t.SavedData=ss,t.SavedDataHandler=ls,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=SpringRoll-Container-umd.js.map
